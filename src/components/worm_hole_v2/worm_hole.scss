
@import "../../layouts/colors";
@import "../../layouts/button_styles";

:root{
  --slow-fast : cubic-bezier(0,.93,.41,.86);
  --width : 17vmax ;
}

#worm-hole {
    position: absolute;
    inset: 0;
    z-index: 1;
    // background-color: #010d15;
    background-color: #090909;
    overflow-x: hidden;
    overflow-y: scroll;

    &::-webkit-scrollbar{
      width: 0; display: none; visibility: hidden;
    }

    h1 {
      margin-top: 5vmax;
      color: #fff;
      font-size: 0.8em;
      font-family: monospace;
      text-align: center;
      height: 25vh;
      overflow-x: hidden;
    }
    
    #panorama {
      position: absolute;
      z-index: 2;
      top: 20%;
      left: 0;
      width: 100%;
      height: 70%;
      display: grid;
      width: 100%;
      grid-template-columns: repeat(8, 100%);
      padding: 0 40%;
      overflow-x: scroll;

      
        div {
          width: 100%;
        }

        &::-webkit-scrollbar{
            height: 6px;
        }

        &::-webkit-scrollbar-thumb{
            background-color: #00cfc8;
            border-radius: 2px;
        }
        
        &::-webkit-scrollbar-track{
            background-color: #00cfc862;
        }
    }

    article {
        position: absolute;
        z-index: 4;
        top: 50%;
        translate: -50% -50%;
        width: var(--width);
        height: calc(var(--width) * 1.45);
        // aspect-ratio: 0.65;
        border-radius: 0.1em;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        
        // background: linear-gradient(to right, rgba(0, 0, 0, 0.53), rgba(0, 0, 0, 0.558));
        display: flex;
        justify-content: center;
        align-items: center;

        filter: brightness(1);
        
        transition:width 800ms var(--slow-fast), height 800ms var(--slow-fast),
        background-size 800ms var(--slow-fast), filter 2000ms linear
        ;


        .info {
          width: 100%;
          height: 80%;
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: space-evenly;
          border-radius: inherit;

          button{
            margin-top: 1em;
            border-radius: 0.2em;
            font-family: monospace;
            font-size: 0.5em ;
            color: #fff;
            background-color: #090909;
            transition: color 500ms;
            padding: 0.2em 0.5em;
            @include button-spin-style();

            &:hover {
              color:  #AAFF00;
            }
          }

          div {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 50%;
          }

          h2 {
            color: #fff;
            font-size: 1em;
          }

          h4{
            text-align: center;
            font-size: 0.4em;
            color: #fff;
          }


        }


    }
}

#exit-button {
  $blue : #062c43 ;
  $red : red;
  $white : #fff;

  position: absolute;
  top: 13%;
  left: 5vmin;
  translate: 50% -40%;
  z-index: 11;
  display: flex;
  flex-direction: column;
  align-items: center;
  border: none;
  outline: none;

  background-color: transparent;

  cursor: pointer;
  transition: all 200ms;
  
  h2 {      
      background-color: black;
      box-shadow: rgba(0, 0, 0, 0.25) 0px 14px 28px, rgba(0, 0, 0, 0.22) 0px 10px 10px;
      
      width: 6vmin;
      aspect-ratio: 1;
      border-radius: 25%;
      border: solid $blue;
      
      color: $white;
      font-size: 0.5rem;
      
      transition: color 200ms ease, background-color 500ms ease;

      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      
      &:hover {
          background-color: $red;
      }
  }
  
  h4{
      font-family: monospace;
      color: $white;
      opacity: 0;
      transition: opacity 200ms;
      font-size: 0.23rem;
      font-weight: 300;
  }

  &:hover {

      h4{
          opacity: 1;
      }
  }
}


.intro-text {
  opacity: 0;
  animation: intro-text 2000ms var(--slow-fast) 1s forwards;
}


@keyframes intro-text {
    from {
      opacity: 0;
      transform: translateY(100px);
    }
    to {
      opacity: 1;
      transform: translateY(0px);
    }
}


@mixin tilting-card-layout($columns, $rows) {

    $column-width : calc(100% / $columns) ;
    $row-height : calc(100% / $rows);
  
    #mouse-tracker {
        position: absolute;
        inset: 0;
        
        div {
            position: absolute;
            z-index: 2;
            width: $column-width;
            height: $row-height;
            
            @for $colIndex from 0 to $columns {
                
                &:nth-of-type(#{$columns}n - #{$colIndex}){
                    right: calc($colIndex * $column-width);
                }
            }
            
            @for $rowIndex from 0 to $rows{

                $start : ($rowIndex * $rows) + 1 ;
                $end : ($rowIndex * $rows) + $rows ;
                
                &:nth-child(n + #{$start}):nth-child(-n + #{$end}){
                    z-index: 5;
                            top : calc($rowIndex * $row-height) ;
              }
            }
          }
        }
}


.tilting-card {
    // hide the card
    opacity: 0;
    // border: solid lime;
    cursor: pointer;

    // handled in parent container    
    transition: transform 350ms ease, opacity 500ms ease; 
    // transition: all 1000ms;

    // 3d tilting component
    @include tilting-card-layout(
        3, 3
        ) ;
    --perspective: 50vw;
    --rotateX: 0;
    --rotateY: 0;
    --angle: 5deg;
    
    box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;
    transform: perspective(var(--perspective)) rotateX(var(--rotateX))
    rotateY(var(--rotateY));


    // styling
    width: 95%;
    height: 100%;
    // aspect-ratio: 1.5;

    background-image:linear-gradient(to bottom, transparent, #090909 70%), url("../../../assets/panoramas/blue_nebula.webp");
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    border-radius: 0.1em;

    position: relative;

    display: flex;
    flex-direction: column;
    justify-content: flex-end;

    &:hover {
      opacity: 1;
    }
    
    h2 {
      width: 80%;
      margin: 0.5em auto;
      font-family: monospace;
      font-size: 0.5em;
      font-weight: 200;
      color: #fff;
    }
    
    h3 {
      width: 80%;
      margin: 0 auto;
      font-family: monospace;
      font-size: 0.25em;
      font-weight: 200;
      color: #bcbcbc;  
      margin-bottom: 1.3em;      
  }
}
  
  // style to make the card interactive
  .tilting-card:has(#mouse-tracker > div:nth-child(1):hover) {
    --rotateX: var(--angle);
    --rotateY: calc(var(--angle) * -1);
  }
  
  .tilting-card:has( #mouse-tracker > div:nth-child(2):hover) {
    --rotateX: var(--angle);
  }
  
  .tilting-card:has( #mouse-tracker > div:nth-child(3):hover) {
    --rotateX: var(--angle);
    --rotateY: var(--angle);
  }
  
  .tilting-card:has( #mouse-tracker > div:nth-child(4):hover) {
    --rotateY: calc(var(--angle) * -1);
  }
  
  .tilting-card:has( #mouse-tracker > div:nth-child(6):hover) {
    --rotateY: var(--angle);
  }
  
  .tilting-card:has( #mouse-tracker > div:nth-child(7):hover) {
    --rotateX: calc(var(--angle) * -1);
    --rotateY: calc(var(--angle) * -1);
  }
  
  .tilting-card:has( #mouse-tracker > div:nth-child(8):hover) {
    --rotateX: calc(var(--angle) * -1);
  }
  
  .tilting-card:has( #mouse-tracker > div:nth-child(9):hover) {
    --rotateX: calc(var(--angle) * -1);
    --rotateY: var(--angle);
  }
  